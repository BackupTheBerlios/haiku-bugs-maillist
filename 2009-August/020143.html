<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #4101: nVidia CK804 OHCI USB controller detects only 1 connected device
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234101%3A%20nVidia%20CK804%20OHCI%20USB%20controller%0A%20detects%20only%201%20connected%20device&In-Reply-To=%3C049.d8ec7a0ae6c2236bfe0371169c7a341b%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020142.html">
   <LINK REL="Next"  HREF="020144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #4101: nVidia CK804 OHCI USB controller detects only 1 connected device</H1>
    <B>mmlr</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234101%3A%20nVidia%20CK804%20OHCI%20USB%20controller%0A%20detects%20only%201%20connected%20device&In-Reply-To=%3C049.d8ec7a0ae6c2236bfe0371169c7a341b%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #4101: nVidia CK804 OHCI USB controller detects only 1 connected device">trac at haiku-os.org
       </A><BR>
    <I>Tue Aug 25 17:54:06 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020142.html">[Haiku-bugs] [Haiku] #3122: makebootable says invalid partition	index
</A></li>
        <LI>Next message: <A HREF="020144.html">[Haiku-bugs] [Haiku] #3122: makebootable says invalid partition	index
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20143">[ date ]</a>
              <a href="thread.html#20143">[ thread ]</a>
              <a href="subject.html#20143">[ subject ]</a>
              <a href="author.html#20143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#4101: nVidia CK804 OHCI USB controller detects only 1 connected device
-------------------------+--------------------------------------------------
 Reporter:  monni        |       Owner:  mmlr          
     Type:  bug          |      Status:  assigned      
 Priority:  normal       |   Milestone:  R1            
Component:  Drivers/USB  |     Version:  R1 development
Blockedby:               |    Platform:  All           
 Blocking:               |  
-------------------------+--------------------------------------------------

Comment(by mmlr):

 Replying to [comment:9 oruizdorantes]:
 &gt; Lets say only the first 6 bytes are valid (bluetooth)data.
 &gt; Remaining as you can see is filled with 4 zeros which starts provoking
 problems. I would be expecting from this frame to be 6 bytes len, or
 having valid data on those 4 bytes(not 0).

 What transfer length do you use when doing mentioned transfer? The thing
 is, USB doesn't know about the data it is moving, it basically just
 allocates as much as you hand in and then sees what the device says.
 Usually the actual length field is then what the device returned. It is
 possible (and not too unlikely) that there is an error in transfer length
 handling in OHCI. Just to verify that, could you try the same on a UHCI
 controller instead and see if it behaves differently? If it does return
 the correct actual length there (or different data), then it is a problem
 in OHCI, because both should really behave the same. If it does the same
 on UHCI, then it could as well be a problem on the bluetooth side (or both
 controller drivers could be buggy, but since UHCI is quite heavily tested
 I think that's rather unlikely). I really have no idea of the bluetooth
 side of things, so I'm just pointing out what I can tell from this info.
 In any case, if you could tell me the exact way you scheduled that
 transfer (transfer type and length basically), I will look over OHCI in
 that regard.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/4101#comment:10">http://dev.haiku-os.org/ticket/4101#comment:10</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020142.html">[Haiku-bugs] [Haiku] #3122: makebootable says invalid partition	index
</A></li>
	<LI>Next message: <A HREF="020144.html">[Haiku-bugs] [Haiku] #3122: makebootable says invalid partition	index
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20143">[ date ]</a>
              <a href="thread.html#20143">[ thread ]</a>
              <a href="subject.html#20143">[ subject ]</a>
              <a href="author.html#20143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
