<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #4204: Incorporation of GCC 4.4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234204%3A%20Incorporation%20of%20GCC%204.4&In-Reply-To=%3C043.8af43aae05b2e37a68eff384e11c9aa4%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019223.html">
   <LINK REL="Next"  HREF="019246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #4204: Incorporation of GCC 4.4</H1>
    <B>jprostko</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234204%3A%20Incorporation%20of%20GCC%204.4&In-Reply-To=%3C043.8af43aae05b2e37a68eff384e11c9aa4%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #4204: Incorporation of GCC 4.4">trac at haiku-os.org
       </A><BR>
    <I>Sun Aug  9 00:08:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019223.html">[Haiku-bugs] [Haiku] #4203: Installer gives unreadable dialog box at end of install when installed onto the boot drive
</A></li>
        <LI>Next message: <A HREF="019246.html">[Haiku-bugs] [Haiku] #4204: Incorporation of GCC 4.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19224">[ date ]</a>
              <a href="thread.html#19224">[ thread ]</a>
              <a href="subject.html#19224">[ subject ]</a>
              <a href="author.html#19224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#4204: Incorporation of GCC 4.4
--------------------------+-------------------------------------------------
 Reporter:  jprostko      |       Owner:  bonefish      
     Type:  enhancement   |      Status:  new           
 Priority:  normal        |   Milestone:  R1            
Component:  Build System  |     Version:  R1 development
Blockedby:                |    Platform:  All           
 Blocking:                |  
--------------------------+-------------------------------------------------
 The purpose of this ticket is to allow Haiku to utilize the current
 release series of GCC, which is GCC 4.4.  The current release version in
 this series is 4.4.1.

 I am only going to address this topic within a limited scope, leaving out
 details such as inclusion of the Graphite loop optimization framework,
 native versus cross-building, etc.  This would need more patches and
 further discussion/details, which I think would be too much all at once.

 Thanks to korli and stippi, most of the patches needed to get Haiku
 building with GCC 4.4 have already been committed.  Currently two files
 need patched, however.  A patch fixing those issues is attached as
 gcc-4.4-compatibility.diff.

 With regards to the patch to GCC itself, it is very similar to what is in
 our repository now for GCC 4.3.3, but with some fixes/cleanup.  I also put
 in some code to prevent a native build from failing upon bootstrap
 comparison.  The patch is to be applied to the GCC 4.4.1 core and g++
 packages that can be obtained from the GCC FTP (GCC 4.4.0 will work as
 well).  This will make it easy to work on if a vendor branch for GCC 4.4.1
 was introduced, for instance.

 In addition to the steps above, MPFR in the buildtool repository will need
 updated to version 2.3.2 or higher as required by GCC 4.4.

 As mentioned on the development mailing list previously, there is still an
 issue where GCC 4.4.1 miscompiles the Tracker on certain specific
 revisions.  The latest revision of Haiku (r32211 as of this ticket)
 doesn't have this problem, but some previous ones certainly did.  I am not
 sure if it will ever creep up again, but I have all of the details
 documented so I can investigate further, and have also filed a bug with
 the GCC folks so it is at least documented on their end.


 I would like to state that I'd be willing to work on the latest GCC (and
 its dependencies, as well as updated binutils) in a branch if desired,
 since I have a pretty good working knowledge of building GCC by now, both
 in a native and cross-compiled environment.  I can also provide an
 optional package if/when desired, with or without Graphite included.

 I know the Haiku alpha is around the corner and this may be put on the
 backburner, but I felt it was important to at least get this enhancement
 in place to show current progress.

 Also, just for reference, GCC 4.3.4 came out recently, so if we want to
 hold off on GCC 4.4 for some time, perhaps we can at least upgrade to that
 in the near future.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/4204">http://dev.haiku-os.org/ticket/4204</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019223.html">[Haiku-bugs] [Haiku] #4203: Installer gives unreadable dialog box at end of install when installed onto the boot drive
</A></li>
	<LI>Next message: <A HREF="019246.html">[Haiku-bugs] [Haiku] #4204: Incorporation of GCC 4.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19224">[ date ]</a>
              <a href="thread.html#19224">[ thread ]</a>
              <a href="subject.html#19224">[ subject ]</a>
              <a href="author.html#19224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
