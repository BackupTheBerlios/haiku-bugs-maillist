<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #4188: Kernel very unstable after heap	changes in r32074
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234188%3A%20Kernel%20very%20unstable%20after%20heap%0A%09changes%20in%20r32074&In-Reply-To=%3C050.0dc77a418c59e0f7275727a5ca3e61b2%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019106.html">
   <LINK REL="Next"  HREF="019112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #4188: Kernel very unstable after heap	changes in r32074</H1>
    <B>stippi</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234188%3A%20Kernel%20very%20unstable%20after%20heap%0A%09changes%20in%20r32074&In-Reply-To=%3C050.0dc77a418c59e0f7275727a5ca3e61b2%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #4188: Kernel very unstable after heap	changes in r32074">trac at haiku-os.org
       </A><BR>
    <I>Wed Aug  5 15:04:13 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019106.html">[Haiku-bugs] [Haiku] #4188: Kernel very unstable after heap changes	in r32074
</A></li>
        <LI>Next message: <A HREF="019112.html">[Haiku-bugs] [Haiku] #4188: Kernel very unstable after heap	changes in r32074
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19107">[ date ]</a>
              <a href="thread.html#19107">[ thread ]</a>
              <a href="subject.html#19107">[ subject ]</a>
              <a href="author.html#19107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#4188: Kernel very unstable after heap changes in r32074
---------------------------+------------------------------------------------
 Reporter:  stippi         |       Owner:  mmlr          
     Type:  bug            |      Status:  new           
 Priority:  critical       |   Milestone:  R1/alpha1     
Component:  System/Kernel  |     Version:  R1 development
Blockedby:                 |    Platform:  All           
 Blocking:                 |  
---------------------------+------------------------------------------------
Description changed by stippi:

Old description:

&gt;<i> With BFS and block cache tracing enabled, the kernel only survives a few
</I>&gt;<i> seconds of file operations. In the first session after I updated r32128
</I>&gt;<i> from a revision before the heap changes, Haiku crashed shortly after
</I>&gt;<i> invoking &quot;svn up&quot; in my tree within Haiku. I rebooted and installed a
</I>&gt;<i> clean build over my partition. In the session after that, I tried svn
</I>&gt;<i> cleanup, which showed me corrupted parts of my tree. The second rm -rf
</I>&gt;<i> some/part/of/the/source dumped me back into the kernel debugger, and the
</I>&gt;<i> kernel crashed again in the BFS tracing when allocating a tracing entry
</I>&gt;<i> (like the first time). The panic talked about two NULL pointers, if that
</I>&gt;<i> is helpful, but the crashing seems to be very easy to reproduce anyway (I
</I>&gt;<i> hope for you, too). Reverting just the r32074 changeset seems to have
</I>&gt;<i> made the system stable again.
</I>&gt;<i>
</I>&gt;<i> Running a r32128 GCC 4 based hybrid build.
</I>
New description:

 With BFS and block cache tracing enabled, the kernel only survives a few
 seconds of file operations. In the first session after I updated to r32128
 from a revision before the heap changes, Haiku crashed shortly after
 invoking &quot;svn up&quot; in my tree within Haiku. I rebooted and made sure I have
 a clean build on my partition. In the session after that, I tried svn
 cleanup, which showed me corrupted parts of my tree. The second rm -rf
 some/part/of/the/source dumped me back into the kernel debugger, and the
 kernel crashed again in the BFS tracing when allocating a tracing entry
 (like the first time). The panic talked about two NULL pointers, if that
 is helpful, but the crashing seems to be very easy to reproduce anyway (I
 hope for you, too). Reverting just the r32074 changeset seems to have made
 the system stable again.

 Running a r32128 GCC 4 based hybrid build.

--

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/4188#comment:1">http://dev.haiku-os.org/ticket/4188#comment:1</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019106.html">[Haiku-bugs] [Haiku] #4188: Kernel very unstable after heap changes	in r32074
</A></li>
	<LI>Next message: <A HREF="019112.html">[Haiku-bugs] [Haiku] #4188: Kernel very unstable after heap	changes in r32074
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19107">[ date ]</a>
              <a href="thread.html#19107">[ thread ]</a>
              <a href="subject.html#19107">[ subject ]</a>
              <a href="author.html#19107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
