<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2646: [read] Too much data read
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232646%3A%20%5Bread%5D%20Too%20much%20data%20read&In-Reply-To=%3C052.d89c0510298653701d0bf666f723c619%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009753.html">
   <LINK REL="Next"  HREF="009764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2646: [read] Too much data read</H1>
    <B>bonefish</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232646%3A%20%5Bread%5D%20Too%20much%20data%20read&In-Reply-To=%3C052.d89c0510298653701d0bf666f723c619%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2646: [read] Too much data read">trac at haiku-os.org
       </A><BR>
    <I>Thu Aug 21 14:12:55 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009753.html">[Haiku-bugs] [Haiku] #2646: [read] Too much data read
</A></li>
        <LI>Next message: <A HREF="009764.html">[Haiku-bugs] [Haiku] #2646: [read] Too much data read
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9754">[ date ]</a>
              <a href="thread.html#9754">[ thread ]</a>
              <a href="subject.html#9754">[ subject ]</a>
              <a href="author.html#9754">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2646: [read] Too much data read
----------------------------------------------+-----------------------------
  Reporter:  andreasf                         |       Owner:  axeld         
      Type:  bug                              |      Status:  new           
  Priority:  normal                           |   Milestone:  R1            
 Component:  Applications/Command Line Tools  |     Version:  R1 development
Resolution:                                   |   Blockedby:                
  Platform:  All                              |    Blocking:                
----------------------------------------------+-----------------------------

Comment(by bonefish):

 I'm no longer sure that Haiku's &quot;read&quot; is broken. Here's what &quot;help read&quot;
 says:
 {{{
 read: read [-ers] [-u fd] [-t timeout] [-p prompt] [-a array] [-n nchars]
 [-d delim] [name ...]
     One line is read from the standard input, or from file descriptor FD
 if the
     -u option is supplied, and the first word is assigned to the first
 NAME,
     the second word to the second NAME, and so on, with leftover words
 assigned
     to the last NAME.  Only the characters found in $IFS are recognized as
 word
     delimiters.  If no NAMEs are supplied, the line read is stored in the
 REPLY
     variable.  If the -r option is given, this signifies `raw' input, and
     backslash escaping is disabled.  The -d option causes read to continue
     until the first character of DELIM is read, rather than newline.  If
 the -p
     option is supplied, the string PROMPT is output without a trailing
 newline
     before attempting to read.  If -a is supplied, the words read are
 assigned
     to sequential indices of ARRAY, starting at zero.  If -e is supplied
 and
     the shell is interactive, readline is used to obtain the line.  If -n
 is
     supplied with a non-zero NCHARS argument, read returns after NCHARS
     characters have been read.  The -s option causes input coming from a
     terminal to not be echoed.

     The -t option causes read to time out and return failure if a complete
 line
     of input is not read within TIMEOUT seconds.  If the TMOUT variable is
 set,
     its value is the default timeout.  The return code is zero, unless
 end-of-file
     is encountered, read times out, or an invalid file descriptor is
 supplied as
     the argument to -u.
 }}}

 &quot;With leftover words assigned to the last NAME&quot; is exactly what happens in
 Haiku. BeOS's bash 2.03 bevaves the same, while all bash 3.* versions I've
 tested read only the first word. So I guess updating our bash will indeed
 make our &quot;read&quot; behave the same. I suppose filing a bug report with the
 bash folks (that either their documentation or their implementation is
 wrong) would be in order.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2646#comment:8">http://dev.haiku-os.org/ticket/2646#comment:8</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009753.html">[Haiku-bugs] [Haiku] #2646: [read] Too much data read
</A></li>
	<LI>Next message: <A HREF="009764.html">[Haiku-bugs] [Haiku] #2646: [read] Too much data read
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9754">[ date ]</a>
              <a href="thread.html#9754">[ thread ]</a>
              <a href="subject.html#9754">[ subject ]</a>
              <a href="author.html#9754">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
