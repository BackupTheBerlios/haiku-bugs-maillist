<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2083: EHCI bus hanging at boot.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232083%3A%20EHCI%20bus%20hanging%20at%20boot.&In-Reply-To=%3C047.20e7f6b28ed22ed0dbb19146e42b00e0%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006474.html">
   <LINK REL="Next"  HREF="006494.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2083: EHCI bus hanging at boot.</H1>
    <B>Haiku</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232083%3A%20EHCI%20bus%20hanging%20at%20boot.&In-Reply-To=%3C047.20e7f6b28ed22ed0dbb19146e42b00e0%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2083: EHCI bus hanging at boot.">trac at haiku-os.org
       </A><BR>
    <I>Wed Apr 16 10:21:14 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="006474.html">[Haiku-bugs] [Haiku] #2083: EHCI bus hanging at boot.
</A></li>
        <LI>Next message: <A HREF="006494.html">[Haiku-bugs] [Haiku] #2083: EHCI bus hanging at boot.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6477">[ date ]</a>
              <a href="thread.html#6477">[ thread ]</a>
              <a href="subject.html#6477">[ subject ]</a>
              <a href="author.html#6477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2083: EHCI bus hanging at boot.
--------------------------+-------------------------------------------------
  Reporter:  bga          |       Owner:  mmlr          
      Type:  bug          |      Status:  assigned      
  Priority:  blocker      |   Milestone:  R1            
 Component:  Drivers/USB  |     Version:  R1 development
Resolution:               |    Platform:  All           
--------------------------+-------------------------------------------------
Changes (by mmlr):

  * status:  new =&gt; assigned

Comment:

 It seems that the BIOS first does not hand over the control, but then
 still decides to do so which causes an interrupt flood. I've increased the
 amount of time the handover code tries to get the controller with r24980
 and also let it disable interrupts if the handover fails. Could you please
 check if this allows to boot, and if so if the EHCI controller then
 actually failed or succeeded in its initialization? You should see
 corresponding lines in the syslog.
 In fact Linux does not really care about a failed handover. It just force
 turns off the BIOS owned bit and disables all the SMIs and then goes on
 assuming now owning the controller. If it turns out that there are BIOSes
 that do in fact not complete the handover at all then we might want to do
 the same thing in the future.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2083#comment:1">http://dev.haiku-os.org/ticket/2083#comment:1</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006474.html">[Haiku-bugs] [Haiku] #2083: EHCI bus hanging at boot.
</A></li>
	<LI>Next message: <A HREF="006494.html">[Haiku-bugs] [Haiku] #2083: EHCI bus hanging at boot.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6477">[ date ]</a>
              <a href="thread.html#6477">[ thread ]</a>
              <a href="subject.html#6477">[ subject ]</a>
              <a href="author.html#6477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
