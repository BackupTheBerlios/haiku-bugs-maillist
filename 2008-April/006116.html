<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2025: usb_disk + installer causes system	instability.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232025%3A%20usb_disk%20%2B%20installer%20causes%20system%0A%09instability.&In-Reply-To=%3C045.ef6814b7ea96f8c081432d8ed5683620%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006112.html">
   <LINK REL="Next"  HREF="006117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2025: usb_disk + installer causes system	instability.</H1>
    <B>Haiku</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232025%3A%20usb_disk%20%2B%20installer%20causes%20system%0A%09instability.&In-Reply-To=%3C045.ef6814b7ea96f8c081432d8ed5683620%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2025: usb_disk + installer causes system	instability.">trac at haiku-os.org
       </A><BR>
    <I>Fri Apr  4 03:24:20 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="006112.html">[Haiku-bugs] [Haiku] #1979: Blank processor name in About This	System
</A></li>
        <LI>Next message: <A HREF="006117.html">[Haiku-bugs] [Haiku] #2025: usb_disk + installer causes system	instability.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6116">[ date ]</a>
              <a href="thread.html#6116">[ thread ]</a>
              <a href="subject.html#6116">[ subject ]</a>
              <a href="author.html#6116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2025: usb_disk + installer causes system instability.
--------------------------+-------------------------------------------------
 Reporter:  netster403    |       Owner:  marcusoverhagen
     Type:  bug           |      Status:  new            
 Priority:  normal        |   Milestone:  R1             
Component:  Drivers/Disk  |     Version:  R1 development 
 Platform:  All           |  
--------------------------+-------------------------------------------------
 1) First I setup my flash disk as the following layout: (nice and simple)

 Disk /dev/sdb: 513 MB, 513802240 bytes
 16 heads, 62 sectors/track, 1011 cylinders
 Units = cylinders of 992 * 512 = 507904 bytes
 Disk identifier: 0x8078cf73

    Device Boot      Start         End      Blocks   Id  System
 /dev/sdb1   *           1        1011      501425   eb  BeOS fs


 2)  edited VMX to enable usb

 3)  let the system to boot fully.

 4)  attach usb drive in vmware

 5)  Run Drive setup, initialize haiku partition as HaikuDisk, blocksize
 2048.  Everything ok so far.

 6)  mount &quot;HaikuDisk&quot;

 7) run Haiku installer

 8) Installer begins to copy files

 9) The first time I tried this I got a kernel panic, i didn't capture a
 backtrace (me==dumb) The second time I did this the tracker locked up and
 went off to zombie land.

 10) Serial logs show....

 bfs: Replay log, disk was not correctly unmounted...
 bfs: replay block run 0:1:1 in log at 18!
 bfs: replay block run 0:9:1 in log at 19!
 bfs: replay block run 0:2065:1 in log at 20!
 bfs: replay block run 0:2066:1 in log at 21!
 bfs: replay block run 0:2098:1 in log at 22!
 bfs: replay block run 0:2099:1 in log at 23!
 bfs: replay block run 0:2131:1 in log at 24!
 bfs: replay block run 0:2132:1 in log at 25!
 bfs: replay block run 0:2164:1 in log at 26!
 bfs: replay block run 0:2165:1 in log at 27!
 bfs: replay block run 8:0:1 in log at 28!
 bfs: replay block run 8:1:1 in log at 29!
 bfs: mounted &quot;HaikuDisk&quot; (root node at 131072, device =
 /dev/disk/usb/0/0/0)
 bfs: bfs_stat_index:1945: No such file or directory
 SCSI_DSK -- synchronize_cache:
 usb_disk: sending or receiving of the data failed
 usb_disk: write fails with 0xffffffff
 usb_disk: command status wrapper is not valid


 See attachments for full serial logs and screenshot.

 Thanks! The new USB_disk stack is great though :D

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2025">http://dev.haiku-os.org/ticket/2025</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006112.html">[Haiku-bugs] [Haiku] #1979: Blank processor name in About This	System
</A></li>
	<LI>Next message: <A HREF="006117.html">[Haiku-bugs] [Haiku] #2025: usb_disk + installer causes system	instability.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6116">[ date ]</a>
              <a href="thread.html#6116">[ thread ]</a>
              <a href="subject.html#6116">[ subject ]</a>
              <a href="author.html#6116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
