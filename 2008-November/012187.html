<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2902: USB File corruption with SMP	enabled.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232902%3A%20USB%20File%20corruption%20with%20SMP%0A%09enabled.&In-Reply-To=%3C054.03bbadc3eb83c83a218c32a017e1465b%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012186.html">
   <LINK REL="Next"  HREF="012188.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2902: USB File corruption with SMP	enabled.</H1>
    <B>netster403</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232902%3A%20USB%20File%20corruption%20with%20SMP%0A%09enabled.&In-Reply-To=%3C054.03bbadc3eb83c83a218c32a017e1465b%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2902: USB File corruption with SMP	enabled.">trac at haiku-os.org
       </A><BR>
    <I>Fri Nov  7 21:09:42 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="012186.html">[Haiku-bugs] [Haiku] #1512: deadlock after clicking on Deskbar
</A></li>
        <LI>Next message: <A HREF="012188.html">[Haiku-bugs] [Haiku] #2902: USB File corruption with SMP	enabled.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12187">[ date ]</a>
              <a href="thread.html#12187">[ thread ]</a>
              <a href="subject.html#12187">[ subject ]</a>
              <a href="author.html#12187">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2902: USB File corruption with SMP enabled.
--------------------------+-------------------------------------------------
  Reporter:  netster403   |       Owner:  mmlr          
      Type:  bug          |      Status:  new           
  Priority:  critical     |   Milestone:  R1            
 Component:  Drivers/USB  |     Version:  R1 development
Resolution:               |   Blockedby:                
  Platform:  x86          |    Blocking:                
--------------------------+-------------------------------------------------

Comment(by netster403):

 Ok, I've tried copying the file over from my USB flash drive to my Haiku
 disk drive in 28521 and the same thing happens while SMP is enabled on
 boot.

 Verified this behavior with FAT and BeFS on the flash drive, so it does
 not seem to be a file system issue.

 There is some positive results from this latest experiment though!
 Disabling the one of the two cpu cores via the task manager menu, then
 plugging in the usb flash drive causes all USB transfer's to occur
 successfully. This definitely has to do with the USB storage portion not
 working well with two cpus.


 I am attaching my test results.

 Midnight_City_by_IsometricPixel.png == PNG transferred from USB flash
 drive (FAT) to Haiku drive (SMP disabled) (good md5)
 Midnight_City_by_IsometricPixel.broke.png == PNG transferred from USB
 flash drive (fat 16) to Haiku drive. (SMP enabled) (bad md5)

 <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-bugs">alex at houvonglucka02</A>:~/usbtest$ md5sum
 Midnight_City_by_IsometricPixel.broke.png
 b0474700c6f7687e1cdaff237dbe85a4
 Midnight_City_by_IsometricPixel.broke.png
 <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-bugs">alex at houvonglucka02</A>:~/usbtest$ md5sum Midnight_City_by_IsometricPixel.png
 efbdeeb1504a038cf102e3043969b703  Midnight_City_by_IsometricPixel.png

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2902#comment:13">http://dev.haiku-os.org/ticket/2902#comment:13</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012186.html">[Haiku-bugs] [Haiku] #1512: deadlock after clicking on Deskbar
</A></li>
	<LI>Next message: <A HREF="012188.html">[Haiku-bugs] [Haiku] #2902: USB File corruption with SMP	enabled.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12187">[ date ]</a>
              <a href="thread.html#12187">[ thread ]</a>
              <a href="subject.html#12187">[ subject ]</a>
              <a href="author.html#12187">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
