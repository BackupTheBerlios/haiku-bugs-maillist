<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #1259: Fix gcc 2.95.3 Type Info Functions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231259%3A%20Fix%20gcc%202.95.3%20Type%20Info%20Functions&In-Reply-To=%3C043.b1ca7ef1fc95fc1d936e9b001212cea1%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001585.html">
   <LINK REL="Next"  HREF="001590.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #1259: Fix gcc 2.95.3 Type Info Functions</H1>
    <B>Haiku</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231259%3A%20Fix%20gcc%202.95.3%20Type%20Info%20Functions&In-Reply-To=%3C043.b1ca7ef1fc95fc1d936e9b001212cea1%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #1259: Fix gcc 2.95.3 Type Info Functions">trac at haiku-os.org
       </A><BR>
    <I>Sun Jun  3 20:37:26 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001585.html">[Haiku-bugs] [Haiku] #1258: Team Monitor may confuse people who Ctrl-Alt-Delete on a shut down system
</A></li>
        <LI>Next message: <A HREF="001590.html">[Haiku-bugs] [Haiku] #551: Drag icon for current folder (located in the Menu) doesnt change its color.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1586">[ date ]</a>
              <a href="thread.html#1586">[ thread ]</a>
              <a href="subject.html#1586">[ subject ]</a>
              <a href="author.html#1586">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#1259: Fix gcc 2.95.3 Type Info Functions
--------------------------+-------------------------------------------------
 Reporter:  bonefish      |       Owner:  bonefish      
     Type:  bug           |      Status:  new           
 Priority:  normal        |   Milestone:  R1            
Component:  Build System  |     Version:  R1 development
 Platform:  All           |  
--------------------------+-------------------------------------------------
 Currently the type info functions for !__si_type_info and
 !__class_type_info generated by gcc 2.95.3 are calling the base class(es)
 type info function(s), but instead of using the return value, refer to the
 base class type info(s) separately. This can cause problems with shared
 objects generated by older compilers (e.g. the BDirectWindow type info in
 libgame.so).

 The place where to fix it is gcc/cp/rtti.c. expand_si_desc() is
 responsible for creating !__si_type_info and expand_class_desc() for
 !__class_type_info type info functions.

 The naive approach to move the &quot;get_typeid_1(type)&quot; into the &quot;elems&quot;
 initialization in expand_si_desc() doesn't work, BTW.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/1259">http://dev.haiku-os.org/ticket/1259</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001585.html">[Haiku-bugs] [Haiku] #1258: Team Monitor may confuse people who Ctrl-Alt-Delete on a shut down system
</A></li>
	<LI>Next message: <A HREF="001590.html">[Haiku-bugs] [Haiku] #551: Drag icon for current folder (located in the Menu) doesnt change its color.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1586">[ date ]</a>
              <a href="thread.html#1586">[ thread ]</a>
              <a href="subject.html#1586">[ subject ]</a>
              <a href="author.html#1586">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
