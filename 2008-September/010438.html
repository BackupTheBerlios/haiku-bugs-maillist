<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2337: After the recent vesa changes haiku	hangs at boot
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232337%3A%20After%20the%20recent%20vesa%20changes%20haiku%0A%09hangs%20at%20boot&In-Reply-To=%3C048.f53e323e1922a6217e7ca400ea2dfe58%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010437.html">
   <LINK REL="Next"  HREF="010439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2337: After the recent vesa changes haiku	hangs at boot</H1>
    <B>Stef</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232337%3A%20After%20the%20recent%20vesa%20changes%20haiku%0A%09hangs%20at%20boot&In-Reply-To=%3C048.f53e323e1922a6217e7ca400ea2dfe58%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2337: After the recent vesa changes haiku	hangs at boot">trac at haiku-os.org
       </A><BR>
    <I>Sun Sep 21 16:36:20 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="010437.html">[Haiku-bugs] [Haiku] #2639: unable to mount ext3 partition with	usb_disk
</A></li>
        <LI>Next message: <A HREF="010439.html">[Haiku-bugs] [Haiku] #2756: r27664 breaks booting on previously working system with panic re being unable to find boot partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10438">[ date ]</a>
              <a href="thread.html#10438">[ thread ]</a>
              <a href="subject.html#10438">[ subject ]</a>
              <a href="author.html#10438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2337: After the recent vesa changes haiku hangs at boot
-------------------------------+--------------------------------------------
  Reporter:  ddew              |       Owner:  axeld         
      Type:  bug               |      Status:  reopened      
  Priority:  normal            |   Milestone:  R1            
 Component:  Drivers/Graphics  |     Version:  R1 development
Resolution:                    |   Blockedby:                
  Platform:  x86               |    Blocking:                
-------------------------------+--------------------------------------------

Comment(by Stef):

 As the problem with my laptop still exists on the latest builds (r27655),
 I've been digging into this a bit more. By adding some dprintfs I traced
 the problem to vm86_do_int, which is called from vbe_get_mode_info. I
 enabled TRACE_VM86 in src/system/kernel/arch/x86/vm86.cpp and added some
 additional TRACEs in the emulate function. This resulted in the output
 seen in the next attachment (sorry, I don't have a serial cable).

 Perhaps this will be some help to someone who knows more about how this is
 supposed to work? If more information is needed I'd be happy to help.

 As a work-around, I'm currently commenting out the for loop in
 vesa_set_display_mode (src/add-ons/accelerants/vesa/mode.cpp), which
 allows Haiku to boot without any problems.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2337#comment:15">http://dev.haiku-os.org/ticket/2337#comment:15</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010437.html">[Haiku-bugs] [Haiku] #2639: unable to mount ext3 partition with	usb_disk
</A></li>
	<LI>Next message: <A HREF="010439.html">[Haiku-bugs] [Haiku] #2756: r27664 breaks booting on previously working system with panic re being unable to find boot partition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10438">[ date ]</a>
              <a href="thread.html#10438">[ thread ]</a>
              <a href="subject.html#10438">[ subject ]</a>
              <a href="author.html#10438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
