<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #1750: PXE Boot Crashes in ipro1000 Driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231750%3A%20PXE%20Boot%20Crashes%20in%20ipro1000%20Driver&In-Reply-To=%3C043.59c2bc37aad2d45086abfa4071706f08%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004713.html">
   <LINK REL="Next"  HREF="004655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #1750: PXE Boot Crashes in ipro1000 Driver</H1>
    <B>Haiku</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231750%3A%20PXE%20Boot%20Crashes%20in%20ipro1000%20Driver&In-Reply-To=%3C043.59c2bc37aad2d45086abfa4071706f08%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #1750: PXE Boot Crashes in ipro1000 Driver">trac at haiku-os.org
       </A><BR>
    <I>Wed Feb  6 02:05:30 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004713.html">[Haiku-bugs] [Haiku] #1749: Sound &amp; video become choppy in MediaPlayer when mouse is moved
</A></li>
        <LI>Next message: <A HREF="004655.html">[Haiku-bugs] [Haiku] #1750: PXE Boot Crashes in ipro1000 Driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4649">[ date ]</a>
              <a href="thread.html#4649">[ thread ]</a>
              <a href="subject.html#4649">[ subject ]</a>
              <a href="author.html#4649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#1750: PXE Boot Crashes in ipro1000 Driver
-----------------------------+----------------------------------------------
 Reporter:  bonefish         |       Owner:  marcusoverhagen
     Type:  bug              |      Status:  new            
 Priority:  normal           |   Milestone:  R1             
Component:  Drivers/Network  |     Version:  R1 development 
 Platform:  x86              |  
-----------------------------+----------------------------------------------
 Revision r23880 (+r23883). Reproducible on real hardware and in VMware.

 When booting via PXE with the ipro1000 driver responsible for the network
 adapter, two instances of the driver are loaded: The first one from the
 netboot archive, the second one from the boot disk, when it has been
 mounted. Somewhere in its uninit_driver() the second instance causes a
 page fault.

 I'm not sure who's to blame. The driver probably shouldn't be loaded a
 second time (devfs) and only one driver should be allowed to play with the
 hardware (device manager?), but, unless I'm mistaken, the situation didn't
 really change in this respect since PXE support was added, and it worked
 once.

 Removing the driver from the disk image avoids the problem, as expected.

 Attached is the serial debug output. The &quot;add_driver()&quot; lines originate
 from devfs:add_driver(), where I added the respective dprintf().

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/1750">http://dev.haiku-os.org/ticket/1750</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004713.html">[Haiku-bugs] [Haiku] #1749: Sound &amp; video become choppy in MediaPlayer when mouse is moved
</A></li>
	<LI>Next message: <A HREF="004655.html">[Haiku-bugs] [Haiku] #1750: PXE Boot Crashes in ipro1000 Driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4649">[ date ]</a>
              <a href="thread.html#4649">[ thread ]</a>
              <a href="subject.html#4649">[ subject ]</a>
              <a href="author.html#4649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
