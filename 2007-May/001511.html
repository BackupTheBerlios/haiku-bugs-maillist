<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #1239: Duplicated and corrupted directories
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231239%3A%20Duplicated%20and%20corrupted%20directories&In-Reply-To=%3C054.3d60be4f09e0236503a6d7005733d3d1%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001510.html">
   <LINK REL="Next"  HREF="001512.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #1239: Duplicated and corrupted directories</H1>
    <B>Haiku</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231239%3A%20Duplicated%20and%20corrupted%20directories&In-Reply-To=%3C054.3d60be4f09e0236503a6d7005733d3d1%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #1239: Duplicated and corrupted directories">trac at haiku-os.org
       </A><BR>
    <I>Fri May 25 08:50:49 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001510.html">[Haiku-bugs] [Haiku] #1239: Duplicated and corrupted directories
</A></li>
        <LI>Next message: <A HREF="001512.html">[Haiku-bugs] [Haiku] #1239: Duplicated and corrupted directories
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1511">[ date ]</a>
              <a href="thread.html#1511">[ thread ]</a>
              <a href="subject.html#1511">[ subject ]</a>
              <a href="author.html#1511">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#1239: Duplicated and corrupted directories
---------------------------+------------------------------------------------
  Reporter:  jackburton    |       Owner:  bonefish      
      Type:  bug           |      Status:  new           
  Priority:  high          |   Milestone:  R1            
 Component:  Build System  |     Version:  R1 development
Resolution:                |    Platform:  All           
---------------------------+------------------------------------------------
Changes (by bonefish):

 * cc: axeld (added)

Comment:

 I verified, that the produced image is indeed not OK. Mounting it under
 BeOS works, but listing e.g. home directory results in &quot;No such file or
 directory&quot; messages for the entries. Mounting and listing with the
 bfs_shell under Linux works fine, though; no duplicate/broken directories
 to be seen. As checked via debug output, when populating the image,
 bfs_create_dir() is invoked only once per directory, with the correct
 name.

 Using binary search, I tracked the first revision for which the image is
 broken down to r21194 (Stefano, can you verify this please). I fail to
 see, how the change would be related, though. It affects only Haiku kernel
 and libroot. The bfs_shell should not even be rebuilt. I wouldn't rule out
 an indirect effect due to a size change of files copied to the image,
 which might trigger a BFS bug, but at least the sizes of kernel and
 libroot.so remain the same (didn't check stuff linked against them).

 Ideas what could be the reason or how to track the problem down are most
 welcome.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/1239#comment:8">http://dev.haiku-os.org/ticket/1239#comment:8</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001510.html">[Haiku-bugs] [Haiku] #1239: Duplicated and corrupted directories
</A></li>
	<LI>Next message: <A HREF="001512.html">[Haiku-bugs] [Haiku] #1239: Duplicated and corrupted directories
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1511">[ date ]</a>
              <a href="thread.html#1511">[ thread ]</a>
              <a href="subject.html#1511">[ subject ]</a>
              <a href="author.html#1511">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
