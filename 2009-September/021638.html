<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #4053: USB MIDI not recognized dynamically
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234053%3A%20USB%20MIDI%20not%20recognized%20dynamically&In-Reply-To=%3C048.bdcd345293004c274d0d29da6f1a5d36%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021636.html">
   <LINK REL="Next"  HREF="021639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #4053: USB MIDI not recognized dynamically</H1>
    <B>Pete</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234053%3A%20USB%20MIDI%20not%20recognized%20dynamically&In-Reply-To=%3C048.bdcd345293004c274d0d29da6f1a5d36%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #4053: USB MIDI not recognized dynamically">trac at haiku-os.org
       </A><BR>
    <I>Sat Sep 19 09:03:56 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021636.html">[Haiku-bugs] [Haiku] #4576: There should be a BTimer
</A></li>
        <LI>Next message: <A HREF="021639.html">[Haiku-bugs] [Haiku] #4577: Haiku Installer - Ability to hit top-left yellow button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21638">[ date ]</a>
              <a href="thread.html#21638">[ thread ]</a>
              <a href="subject.html#21638">[ subject ]</a>
              <a href="author.html#21638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#4053: USB MIDI not recognized dynamically
---------------------------------+------------------------------------------
 Reporter:  Pete                 |       Owner:  phoudoin     
     Type:  bug                  |      Status:  assigned     
 Priority:  normal               |   Milestone:  R1           
Component:  Servers/midi_server  |     Version:  R1/pre-alpha1
Blockedby:                       |    Platform:  All          
 Blocking:                       |  
---------------------------------+------------------------------------------

Comment(by Pete):

 Replying to [comment:13 Pete]:
 &gt; Preliminary findings:
 &gt; I took DeviceWatcher.cpp, stripped all the Add/RemoveDevice stuff
 &gt; out and turned it into a little standalone test app (just printing
 &gt; out the message contents).
 &gt;
 &gt; If I start the test up, and plug in the USB MIDI (for the first time) I
 get ''two'' reports!  They're identical as far as I can see.

 Ahah!  I didn't look quite carefully enough at the contents of the two
 messages (via PrintToStream).  The 'name' field of one is &quot;0&quot;, and of the
 other is &quot;usb&quot;.  So obviously one (the second!) is from directory
 creation, the other is from the device node itself.  As the directory is
 never deleted, one obviously only gets one message from then on.  [But why
 does one see the directory creation when B_WATCH_FILES_ONLY is set? (:-/]
 Interestingly the 'path' field is &quot;/dev/midi/usb/0&quot; in both messages.

 The temporary fix is obviously to check the name field against the last
 item in the path, but presumably this ''is'' a bug in PathMonitor.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/4053#comment:14">http://dev.haiku-os.org/ticket/4053#comment:14</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021636.html">[Haiku-bugs] [Haiku] #4576: There should be a BTimer
</A></li>
	<LI>Next message: <A HREF="021639.html">[Haiku-bugs] [Haiku] #4577: Haiku Installer - Ability to hit top-left yellow button
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21638">[ date ]</a>
              <a href="thread.html#21638">[ thread ]</a>
              <a href="subject.html#21638">[ subject ]</a>
              <a href="author.html#21638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
