<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #3012: Terminal only draws up to the first non-ascii character on a line
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%233012%3A%20Terminal%20only%20draws%20up%20to%20the%20first%0A%20non-ascii%20character%20on%20a%20line&In-Reply-To=%3C039.4898201d3f645302e48af5b6915c2682%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011847.html">
   <LINK REL="Next"  HREF="011850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #3012: Terminal only draws up to the first non-ascii character on a line</H1>
    <B>heto</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%233012%3A%20Terminal%20only%20draws%20up%20to%20the%20first%0A%20non-ascii%20character%20on%20a%20line&In-Reply-To=%3C039.4898201d3f645302e48af5b6915c2682%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #3012: Terminal only draws up to the first non-ascii character on a line">trac at haiku-os.org
       </A><BR>
    <I>Fri Oct 31 20:04:46 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="011847.html">[Haiku-bugs] [Haiku] #1446: [Tracker] problems with dragging	many items
</A></li>
        <LI>Next message: <A HREF="011850.html">[Haiku-bugs] [Haiku] #3012: Terminal only draws up to the first non-ascii character on a line
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11848">[ date ]</a>
              <a href="thread.html#11848">[ thread ]</a>
              <a href="subject.html#11848">[ subject ]</a>
              <a href="author.html#11848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#3012: Terminal only draws up to the first non-ascii character on a line
-----------------------------------+----------------------------------------
 Reporter:  heto                   |       Owner:  jackburton    
     Type:  bug                    |      Status:  new           
 Priority:  normal                 |   Milestone:  R1            
Component:  Applications/Terminal  |     Version:  R1 development
Blockedby:                         |    Platform:  All           
 Blocking:                         |  
-----------------------------------+----------------------------------------
 Terminal on r28387 draws each line only up to and including the first non-
 ascii character, such as &#228;; the rest of the line is left blank. The cursor
 advances as it should, and the character can be properly copied from the
 terminal and pasted in another app such as StyledEdit, so the characters
 seem to be correctly recorded.

 The characters can also be revealed by forcing the terminal to draw
 horizontally sufficiently small pieces at once, for example by dragging
 the window off the left or right edge of the screen and then slowly
 dragging the window back on the screen.

 The problem does not seem to be dependent on the character encoding. (I
 tried attaching to a screen session on a server by using screen -rU,
 detached from it, then changed the encoding from UTF-8 to ISO-8859-1 in
 the terminal menu and reattached using just screen -r; the terminal was
 drawn the same way both times.)

 Steps to reproduce:[[BR]]
 1. Write something like the following in StyledEdit and save as non-
 ascii.txt:[[BR]]
 {{{T&#228;m&#228; tekstitiedosto sis&#228;lt&#228;&#228; &#228;&#228;kk&#246;si&#228;.}}}[[BR]]
 2. Open Terminal and type cat non-ascii.txt[[BR]]
 3. You should see a line which seems to have only the letters T&#228; on it;
 you can try horizontally covering and revealing the window with the
 StyledEdit window and copy-pasting the text back to StyledEdit.

 I'll attach a screenshot, also available at
 [<A HREF="http://www.students.tut.fi/~vettenrh/dump/haiku_terminal_nonascii.png">http://www.students.tut.fi/~vettenrh/dump/haiku_terminal_nonascii.png</A>],
 that should demonstrate the issue. The same command has been run in both
 Terminal 3 and Terminal 4, but while the Terminal 3 window has not been
 covered after the output, I have dragged the Terminal 4 window out of the
 right edge of the screen and slowly back.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/3012">http://dev.haiku-os.org/ticket/3012</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011847.html">[Haiku-bugs] [Haiku] #1446: [Tracker] problems with dragging	many items
</A></li>
	<LI>Next message: <A HREF="011850.html">[Haiku-bugs] [Haiku] #3012: Terminal only draws up to the first non-ascii character on a line
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11848">[ date ]</a>
              <a href="thread.html#11848">[ thread ]</a>
              <a href="subject.html#11848">[ subject ]</a>
              <a href="author.html#11848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
