<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2967: getpeername() succeeds on unconnected	sockets
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232967%3A%20getpeername%28%29%20succeeds%20on%20unconnected%0A%09sockets&In-Reply-To=%3C043.dfbc291194202a0ac3c0750e10cb38e7%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011580.html">
   <LINK REL="Next"  HREF="011590.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2967: getpeername() succeeds on unconnected	sockets</H1>
    <B>bonefish</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232967%3A%20getpeername%28%29%20succeeds%20on%20unconnected%0A%09sockets&In-Reply-To=%3C043.dfbc291194202a0ac3c0750e10cb38e7%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2967: getpeername() succeeds on unconnected	sockets">trac at haiku-os.org
       </A><BR>
    <I>Mon Oct 27 00:09:22 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="011580.html">[Haiku-bugs] [Haiku] #2966: DHCP leaves auto config IP after link up
</A></li>
        <LI>Next message: <A HREF="011590.html">[Haiku-bugs] [Haiku] #2968: PackageInstaller crash with	personalStudio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11587">[ date ]</a>
              <a href="thread.html#11587">[ thread ]</a>
              <a href="subject.html#11587">[ subject ]</a>
              <a href="author.html#11587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2967: getpeername() succeeds on unconnected sockets
------------------------------------+---------------------------------------
 Reporter:  bonefish                |       Owner:  axeld         
     Type:  bug                     |      Status:  new           
 Priority:  normal                  |   Milestone:  R1            
Component:  Network &amp; Internet/TCP  |     Version:  R1 development
Blockedby:                          |    Platform:  All           
 Blocking:                          |  
------------------------------------+---------------------------------------
 r28311

 A getpeername() after a connect() on a TCP socket succeeds even if
  - the socket is non-blocking and the connection has not been established,
 or
  - the socket is blocking and connect() timed out.

 In either case getpeername() should fail with ENOTCONN.

 The problem seems to be that getpeername() is fully implemented in the
 socket module and doesn't inquire the connection state. Or that the TCP
 module should set the peer address only when the connection is established
 and unset it when disconnected.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2967">http://dev.haiku-os.org/ticket/2967</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011580.html">[Haiku-bugs] [Haiku] #2966: DHCP leaves auto config IP after link up
</A></li>
	<LI>Next message: <A HREF="011590.html">[Haiku-bugs] [Haiku] #2968: PackageInstaller crash with	personalStudio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11587">[ date ]</a>
              <a href="thread.html#11587">[ thread ]</a>
              <a href="subject.html#11587">[ subject ]</a>
              <a href="author.html#11587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
