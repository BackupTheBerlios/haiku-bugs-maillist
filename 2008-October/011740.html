<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #1705: SVG file identified as text file
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231705%3A%20SVG%20file%20identified%20as%20text%20file&In-Reply-To=%3C054.9e5ab70a05b1974a3812b4da1ed008f4%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011738.html">
   <LINK REL="Next"  HREF="011741.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #1705: SVG file identified as text file</H1>
    <B>RandomInsano</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%231705%3A%20SVG%20file%20identified%20as%20text%20file&In-Reply-To=%3C054.9e5ab70a05b1974a3812b4da1ed008f4%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #1705: SVG file identified as text file">trac at haiku-os.org
       </A><BR>
    <I>Thu Oct 30 09:35:43 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="011738.html">[Haiku-bugs] [Haiku] #1629: Apps on non-boot partition are	ignored
</A></li>
        <LI>Next message: <A HREF="011741.html">[Haiku-bugs] [Haiku] #1796: Cannot mount partitions either from Desktop, Drive Setup or Terminal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11740">[ date ]</a>
              <a href="thread.html#11740">[ thread ]</a>
              <a href="subject.html#11740">[ subject ]</a>
              <a href="author.html#11740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#1705: SVG file identified as text file
--------------------------+-------------------------------------------------
  Reporter:  jackburton   |       Owner:  axeld         
      Type:  enhancement  |      Status:  new           
  Priority:  normal       |   Milestone:  R1            
 Component:  - General    |     Version:  R1 development
Resolution:               |   Blockedby:                
  Platform:  All          |    Blocking:                
--------------------------+-------------------------------------------------
Changes (by RandomInsano):

 * cc: <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-bugs">EdwinGuy+Haiku at GMail.com</A> (added)


Comment:

 There is a rule now, and the MIME type still doesn't get detected
 properly. I've tried adapting the HTML SNIFF_RULE for SVG files and either
 didn't format it properly or it's just broken.

 Does anyone know a resource for learning how to write sniff rules? I'd
 like to look into this more and make the various XML based documents
 detect properly. I'd also like to poke at the code to see how it
 determines what mime_type files determine file properties.

 Somehow I feel that the extension should really be the definitive decider
 of which MIME type Haiku needs to set and then if none is present, use a
 sniff rule. Currently lion.svg or butterfly.svg are detected as
 text/plain.

 Also, SVG allows for the presence of a &lt;head&gt; attributes and other tags
 that would allow it to be falsely detected as HTML. If the file contains
 &quot;&lt;!DOCTYPE svg&quot; the mime type should be set to &quot;image\svg+xml&quot; regardless
 of whatever else is found in the file.

 How would you prevent the HTML mime type from getting there first? All
 sorts of problems with this MIME business... I think the sniff rule needs
 some documentation

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/1705#comment:2">http://dev.haiku-os.org/ticket/1705#comment:2</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011738.html">[Haiku-bugs] [Haiku] #1629: Apps on non-boot partition are	ignored
</A></li>
	<LI>Next message: <A HREF="011741.html">[Haiku-bugs] [Haiku] #1796: Cannot mount partitions either from Desktop, Drive Setup or Terminal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11740">[ date ]</a>
              <a href="thread.html#11740">[ thread ]</a>
              <a href="subject.html#11740">[ subject ]</a>
              <a href="author.html#11740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
