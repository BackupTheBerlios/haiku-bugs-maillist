<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #4108: Debugger doesn't correctly handle retrieving source file for a program consisting only of main()
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234108%3A%20Debugger%20doesn%27t%20correctly%20handle%0A%20retrieving%20source%20file%20for%20a%20program%20consisting%20only%20of%20main%28%29&In-Reply-To=%3C053.fdceb2d68f28c9e97b12c8fbc55b0975%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018563.html">
   <LINK REL="Next"  HREF="018559.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #4108: Debugger doesn't correctly handle retrieving source file for a program consisting only of main()</H1>
    <B>bonefish</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234108%3A%20Debugger%20doesn%27t%20correctly%20handle%0A%20retrieving%20source%20file%20for%20a%20program%20consisting%20only%20of%20main%28%29&In-Reply-To=%3C053.fdceb2d68f28c9e97b12c8fbc55b0975%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #4108: Debugger doesn't correctly handle retrieving source file for a program consisting only of main()">trac at haiku-os.org
       </A><BR>
    <I>Tue Jul 21 04:21:12 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018563.html">[Haiku-bugs] [Haiku] #4108: Debugger doesn't correctly handle retrieving source file for a program consisting only of main()
</A></li>
        <LI>Next message: <A HREF="018559.html">[Haiku-bugs] [Haiku] #4109: Syslog duplicate message suppression seems to be eating more messages than it should.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18568">[ date ]</a>
              <a href="thread.html#18568">[ thread ]</a>
              <a href="subject.html#18568">[ subject ]</a>
              <a href="author.html#18568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#4108: Debugger doesn't correctly handle retrieving source file for a program
consisting only of main()
------------------------------------+---------------------------------------
  Reporter:  anevilyak              |       Owner:  bonefish      
      Type:  bug                    |      Status:  closed        
  Priority:  low                    |   Milestone:  R1            
 Component:  Applications/Debugger  |     Version:  R1 development
Resolution:  fixed                  |   Blockedby:                
  Platform:  All                    |    Blocking:                
------------------------------------+---------------------------------------

Comment(by bonefish):

 Replying to [comment:4 anevilyak]:
 &gt; I'm curious, based off the diff, why is it that only the simple main()
 case tripped across that bug? Or are there other circumstances that would
 have exposed it?

 To save memory the FileManager maps paths found in the debug info to local
 paths for files only when the leaf name of the file doesn't match.
 Otherwise (i.e. the usual case), it only stores the path for the parent
 directory and creates the path for the file on the fly. When a file is
 first encountered the obvious (identity) path mapping is tried. If that
 works the ancestor directories are also mapped implicitly. In this case
 the direct parent directory of the file (and thus the file itself) simply
 didn't get a mapped path, when the file was first looked up (which happens
 for each function in that source file). The second time it worked
 correctly, since some ancestor directory's path was already mapped.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/4108#comment:5">http://dev.haiku-os.org/ticket/4108#comment:5</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018563.html">[Haiku-bugs] [Haiku] #4108: Debugger doesn't correctly handle retrieving source file for a program consisting only of main()
</A></li>
	<LI>Next message: <A HREF="018559.html">[Haiku-bugs] [Haiku] #4109: Syslog duplicate message suppression seems to be eating more messages than it should.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18568">[ date ]</a>
              <a href="thread.html#18568">[ thread ]</a>
              <a href="subject.html#18568">[ subject ]</a>
              <a href="author.html#18568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
