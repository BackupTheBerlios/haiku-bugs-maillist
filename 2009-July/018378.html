<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #4088: System is slow
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234088%3A%20System%20is%20slow&In-Reply-To=%3C053.5d2a97b6649b0ae4b1fe013c97160313%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018373.html">
   <LINK REL="Next"  HREF="018379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #4088: System is slow</H1>
    <B>atmartens</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%234088%3A%20System%20is%20slow&In-Reply-To=%3C053.5d2a97b6649b0ae4b1fe013c97160313%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #4088: System is slow">trac at haiku-os.org
       </A><BR>
    <I>Thu Jul  9 21:52:42 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018373.html">[Haiku-bugs] [Haiku] #4088: System is slow
</A></li>
        <LI>Next message: <A HREF="018379.html">[Haiku-bugs] [Haiku] #4088: System is slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18378">[ date ]</a>
              <a href="thread.html#18378">[ thread ]</a>
              <a href="subject.html#18378">[ subject ]</a>
              <a href="author.html#18378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#4088: System is slow
-----------------------+----------------------------------------------------
 Reporter:  atmartens  |       Owner:  axeld         
     Type:  bug        |      Status:  new           
 Priority:  normal     |   Milestone:  R1            
Component:  - General  |     Version:  R1 development
Blockedby:             |    Platform:  x86           
 Blocking:             |  
-----------------------+----------------------------------------------------

Comment(by atmartens):

 {{{
 linux:~$ lspci -nn
 00:00.0 Host bridge [0600]: Intel Corporation 82X38/X48 Express DRAM
 Controller [8086:29e0] (rev 01)
 00:01.0 PCI bridge [0604]: Intel Corporation 82X38/X48 Express Host-
 Primary PCI Express Bridge [8086:29e1] (rev 01)
 00:1a.0 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB
 UHCI Controller #4 [8086:2937] (rev 02)
 00:1a.1 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB
 UHCI Controller #5 [8086:2938] (rev 02)
 00:1a.2 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB
 UHCI Controller #6 [8086:2939] (rev 02)
 00:1a.7 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB2
 EHCI Controller #2 [8086:293c] (rev 02)
 00:1b.0 Audio device [0403]: Intel Corporation 82801I (ICH9 Family) HD
 Audio Controller [8086:293e] (rev 02)
 00:1c.0 PCI bridge [0604]: Intel Corporation 82801I (ICH9 Family) PCI
 Express Port 1 [8086:2940] (rev 02)
 00:1c.2 PCI bridge [0604]: Intel Corporation 82801I (ICH9 Family) PCI
 Express Port 3 [8086:2944] (rev 02)
 00:1c.4 PCI bridge [0604]: Intel Corporation 82801I (ICH9 Family) PCI
 Express Port 5 [8086:2948] (rev 02)
 00:1d.0 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB
 UHCI Controller #1 [8086:2934] (rev 02)
 00:1d.1 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB
 UHCI Controller #2 [8086:2935] (rev 02)
 00:1d.2 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB
 UHCI Controller #3 [8086:2936] (rev 02)
 00:1d.7 USB Controller [0c03]: Intel Corporation 82801I (ICH9 Family) USB2
 EHCI Controller #1 [8086:293a] (rev 02)
 00:1e.0 PCI bridge [0604]: Intel Corporation 82801 PCI Bridge [8086:244e]
 (rev 92)
 00:1f.0 ISA bridge [0601]: Intel Corporation 82801IR (ICH9R) LPC Interface
 Controller [8086:2916] (rev 02)
 00:1f.2 RAID bus controller [0104]: Intel Corporation 82801 SATA RAID
 Controller [8086:2822] (rev 02)
 00:1f.3 SMBus [0c05]: Intel Corporation 82801I (ICH9 Family) SMBus
 Controller [8086:2930] (rev 02)
 01:00.0 VGA compatible controller [0300]: nVidia Corporation G94 [GeForce
 9600 GT] [10de:0622] (rev a1)
 02:00.0 IDE interface [0101]: JMicron Technologies, Inc. JMB368 IDE
 controller [197b:2368]
 03:00.0 Ethernet controller [0200]: Marvell Technology Group Ltd. 88E8056
 PCI-E Gigabit Ethernet Controller [11ab:4364] (rev 12)
 05:02.0 Multimedia audio controller [0401]: VIA Technologies Inc. ICE1712
 [Envy24] PCI Multi-Channel I/O Controller [1412:1712] (rev 02)
 05:03.0 FireWire (IEEE 1394) [0c00]: VIA Technologies, Inc. VT6306 Fire II
 IEEE 1394 OHCI Link Layer Controller [1106:3044] (rev c0)
 }}}


 ----

 So I did some more investigating and here is what I found (excerpt):


 {{{
 int     3, enabled 3, handled 4239954, unhandled       0
         hda:_ZL21hda_interrupt_handlerP14hda_controller (0x844ee99f), data
 0x844f46c0
         oss:ossintr  (0x851373e0), data 0x810a40cc
         ahci:_ZN14AHCIController9InterruptEPv (0x805ba55a), data
 0x80fb6bf4
 }}}


 There are a lot of handled interrupts, and that number increases rather
 quickly (good guess, stippi!).

 So at first glance I thought maybe the BIOS hard drive settings are
 involved.  I changed my hard drive from AHCI mode to IDE mode.  This time,
 the boot sequence didn't finish, and it gave me a different error message
 (I forgot to write it down, can always get it again if need be).  It said
 something along the line that there were no interrupts, or they were
 disabled, I forget.  Going back to AHCI mode allows for the boot sequence
 to finish but gives me all those interrupts.

 In a perhaps related note, I have had issues using Linux's realtime
 kernel.  Specifically, one of my two cores gets pegged on hardware
 interrupts (as seen by ''top''), and after a few hours the system hangs.
 Switching to IDE mode makes no difference.  The regular Linux kernel works
 fine, though, as does Windows.  I have the latest BIOS version, and
 otherwise have no reason to suspect general hardware issues.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/4088#comment:3">http://dev.haiku-os.org/ticket/4088#comment:3</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018373.html">[Haiku-bugs] [Haiku] #4088: System is slow
</A></li>
	<LI>Next message: <A HREF="018379.html">[Haiku-bugs] [Haiku] #4088: System is slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18378">[ date ]</a>
              <a href="thread.html#18378">[ thread ]</a>
              <a href="subject.html#18378">[ subject ]</a>
              <a href="author.html#18378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
