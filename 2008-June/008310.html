<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2397: Build system writes over actual filesystem contents while trying to add boot sector to partition
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232397%3A%20Build%20system%20writes%20over%20actual%0A%20filesystem%20contents%20while%20trying%20to%20add%20boot%20sector%20to%20partition&In-Reply-To=%3C049.4403b95c4ef1672ad5358c8168c34138%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008283.html">
   <LINK REL="Next"  HREF="008263.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2397: Build system writes over actual filesystem contents while trying to add boot sector to partition</H1>
    <B>bonefish</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232397%3A%20Build%20system%20writes%20over%20actual%0A%20filesystem%20contents%20while%20trying%20to%20add%20boot%20sector%20to%20partition&In-Reply-To=%3C049.4403b95c4ef1672ad5358c8168c34138%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2397: Build system writes over actual filesystem contents while trying to add boot sector to partition">trac at haiku-os.org
       </A><BR>
    <I>Wed Jun 18 15:31:35 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008283.html">[Haiku-bugs] [Haiku] #2397: Build system writes over actual filesystem contents while trying to add boot sector to partition
</A></li>
        <LI>Next message: <A HREF="008263.html">[Haiku-bugs] [Haiku] #2398: build system doesn't honor HAIKU_DONT_CLEAR_IMAGE when HAIKU_IMAGE_SIZE is not set
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8310">[ date ]</a>
              <a href="thread.html#8310">[ thread ]</a>
              <a href="subject.html#8310">[ subject ]</a>
              <a href="author.html#8310">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2397: Build system writes over actual filesystem contents while trying to add
boot sector to partition
---------------------------+------------------------------------------------
  Reporter:  monni         |       Owner:  bonefish      
      Type:  bug           |      Status:  new           
  Priority:  normal        |   Milestone:  R1            
 Component:  Build System  |     Version:  R1 development
Resolution:                |   Blockedby:                
  Platform:  All           |    Blocking:                
---------------------------+------------------------------------------------

Comment(by bonefish):

 Replying to [comment:4 monni]:
 &gt; And I still think it does &quot;makebootable&quot; too early...
 &gt;
 &gt; To make it simple... As it is default that it clears the image, it
 should initialize the partition only if also clearing the image is
 allowed.

 That's exactly what's happening as the snippet I copied from the
 build_haiku_image script shows. I can even easily reproduce that it works
 like this when trying to build with insufficient permissions.

 Regarding not being able to boot. If you provided the symlink,
 makebootable wouldn't be able to make the partition bootable at all, since
 it wouldn't find the disk device the partition belongs to.

 If there's still some problem that justifies the ticket to be open after
 r26006, please provide the build output.

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2397#comment:5">http://dev.haiku-os.org/ticket/2397#comment:5</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008283.html">[Haiku-bugs] [Haiku] #2397: Build system writes over actual filesystem contents while trying to add boot sector to partition
</A></li>
	<LI>Next message: <A HREF="008263.html">[Haiku-bugs] [Haiku] #2398: build system doesn't honor HAIKU_DONT_CLEAR_IMAGE when HAIKU_IMAGE_SIZE is not set
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8310">[ date ]</a>
              <a href="thread.html#8310">[ thread ]</a>
              <a href="subject.html#8310">[ subject ]</a>
              <a href="author.html#8310">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
