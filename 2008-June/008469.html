<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2344: Hang when booting with USB Mass Storage device connected.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232344%3A%20Hang%20when%20booting%20with%20USB%20Mass%0A%20Storage%20device%20connected.&In-Reply-To=%3C057.a4d497951b8d0d367472f2b5461bc8ad%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008465.html">
   <LINK REL="Next"  HREF="008478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2344: Hang when booting with USB Mass Storage device connected.</H1>
    <B>idefix</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232344%3A%20Hang%20when%20booting%20with%20USB%20Mass%0A%20Storage%20device%20connected.&In-Reply-To=%3C057.a4d497951b8d0d367472f2b5461bc8ad%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2344: Hang when booting with USB Mass Storage device connected.">trac at haiku-os.org
       </A><BR>
    <I>Mon Jun 23 20:15:35 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008465.html">[Haiku-bugs] [Haiku] #2344: Hang when booting with USB Mass Storage device connected.
</A></li>
        <LI>Next message: <A HREF="008478.html">[Haiku-bugs] [Haiku] #2344: Hang when booting with USB Mass Storage device connected.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8469">[ date ]</a>
              <a href="thread.html#8469">[ thread ]</a>
              <a href="subject.html#8469">[ subject ]</a>
              <a href="author.html#8469">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2344: Hang when booting with USB Mass Storage device connected.
----------------------------+-----------------------------------------------
  Reporter:  dustin howett  |       Owner:  mmlr          
      Type:  bug            |      Status:  assigned      
  Priority:  normal         |   Milestone:  R1            
 Component:  Drivers/USB    |     Version:  R1 development
Resolution:                 |   Blockedby:                
  Platform:  x86            |    Blocking:                
----------------------------+-----------------------------------------------

Comment(by idefix):

 Replying to [comment:8 mmlr]:
 &gt; As the device info seems to be still readable from usb_dev_info the
 device and the UHCI controller are in fact not blocked. So the question
 is, when you insert a card into that card reader, are you able to mount
 and use it? If it is usable, then I could imagine the device to just stall
 the clear requests if the bulk pipes aren't actually halted, to indicate
 that a clear wouldn't have been necessary. In that case they could simply
 be ignored.
 Nope, the card isn't recognised when I put it in. I didn't see any
 indication of detecting the card in the serial log when I put it in.[[BR]]
 When I boot Haiku with the card in the cardreader, I see some detection
 going on, but in the end I cannot mount it.
 If you wan't, I can upload a serial log showing this in a couple of hours.
 &gt; The different errors that get output with the wacom device, they do only
 show up as soon as you unplug that wacom device again, right? If so that's
 normal and can be ignored. While the stack and the driver haven't yet
 noticed the removal of the device they will continue using it resulting in
 failing transfer descriptors. That stops as soon as the device disconnect
 is handled. If they come up while the device is plugged in this would
 indicate some other problem. Again the question, does the wacom device
 work while you have it plugged?
 Yep, my Wacom Graphire 2 keeps working perfectly all the time.[[BR]]
 The difference in errors are as follows:[[BR]]
 Error with Wacom connected:
 {{{
 usb_disk: sending the command block wrapper failed
 USB ControlPipe: timeout waiting for queued request to complete
 Last message repeated 2 times.
 }}}
 Error with Wacom disconnected:
 {{{
 usb_disk: sending the command block wrapper failed
 usb_uhci: td (0x01a24e00) error: status: 0x394007ff; token: 0xffe80269;
 }}}

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2344#comment:9">http://dev.haiku-os.org/ticket/2344#comment:9</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008465.html">[Haiku-bugs] [Haiku] #2344: Hang when booting with USB Mass Storage device connected.
</A></li>
	<LI>Next message: <A HREF="008478.html">[Haiku-bugs] [Haiku] #2344: Hang when booting with USB Mass Storage device connected.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8469">[ date ]</a>
              <a href="thread.html#8469">[ thread ]</a>
              <a href="subject.html#8469">[ subject ]</a>
              <a href="author.html#8469">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
