<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2168: [Deskbar] freezes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232168%3A%20%5BDeskbar%5D%20freezes&In-Reply-To=%3C052.c60d6062cfc14bf6a95e0217a5120f72%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007860.html">
   <LINK REL="Next"  HREF="007862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2168: [Deskbar] freezes</H1>
    <B>Haiku</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232168%3A%20%5BDeskbar%5D%20freezes&In-Reply-To=%3C052.c60d6062cfc14bf6a95e0217a5120f72%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2168: [Deskbar] freezes">trac at haiku-os.org
       </A><BR>
    <I>Thu Jun  5 23:56:29 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="007860.html">[Haiku-bugs] [Haiku] #2326: KDL: remove page 0x91d46aa0 from cache 0x91365060: page still has mappings!
</A></li>
        <LI>Next message: <A HREF="007862.html">[Haiku-bugs] [Haiku] #2341: ssh host key location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7861">[ date ]</a>
              <a href="thread.html#7861">[ thread ]</a>
              <a href="subject.html#7861">[ subject ]</a>
              <a href="author.html#7861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2168: [Deskbar] freezes
-----------------------------------+----------------------------------------
  Reporter:  kaoutsis              |       Owner:  axeld         
      Type:  bug                   |      Status:  new           
  Priority:  normal                |   Milestone:  R1            
 Component:  Applications/Deskbar  |     Version:  R1 development
Resolution:                        |    Platform:  All           
-----------------------------------+----------------------------------------
Changes (by aldeck):

 * cc: jackburton (added)

Comment:

 I could reproduce 100%.
 In deskbar/TBarWindow.cpp, the workspace change triggers a BMenuBar
 deletion. But the BMenuBar will block in its destructor waiting for its
 tracking thread to end.

 See the two attached backtraces. One from the TBarWindow thread and one
 from the BMenuBar tracking thread.

 It's not reproducible on R5. As a side note, i noticed that R5 closes any
 open menu on workspace change, whereas haiku keeps tracking menus on the
 previous workspace and the menu is still open when you come back.

 I couldn't go further :) cc'ing to Stefano as he surely has an idea ;)

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2168#comment:1">http://dev.haiku-os.org/ticket/2168#comment:1</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007860.html">[Haiku-bugs] [Haiku] #2326: KDL: remove page 0x91d46aa0 from cache 0x91365060: page still has mappings!
</A></li>
	<LI>Next message: <A HREF="007862.html">[Haiku-bugs] [Haiku] #2341: ssh host key location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7861">[ date ]</a>
              <a href="thread.html#7861">[ thread ]</a>
              <a href="subject.html#7861">[ subject ]</a>
              <a href="author.html#7861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
