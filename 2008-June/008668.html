<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-bugs] [Haiku] #2469: Haiku (r26165) does not detect SATA DVD/CDROM drive.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-bugs/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232469%3A%20Haiku%20%28r26165%29%20does%20not%20detect%20SATA%0A%20DVD/CDROM%20drive.&In-Reply-To=%3C051.b066e63df0264291162ba475bd5d274e%40haiku-os.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008656.html">
   <LINK REL="Next"  HREF="008652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-bugs] [Haiku] #2469: Haiku (r26165) does not detect SATA DVD/CDROM drive.</H1>
    <B>marcusoverhagen</B> 
    <A HREF="mailto:haiku-bugs%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-bugs%5D%20%5BHaiku%5D%20%232469%3A%20Haiku%20%28r26165%29%20does%20not%20detect%20SATA%0A%20DVD/CDROM%20drive.&In-Reply-To=%3C051.b066e63df0264291162ba475bd5d274e%40haiku-os.org%3E"
       TITLE="[Haiku-bugs] [Haiku] #2469: Haiku (r26165) does not detect SATA DVD/CDROM drive.">trac at haiku-os.org
       </A><BR>
    <I>Mon Jun 30 23:41:13 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008656.html">[Haiku-bugs] [Haiku] #2469: Haiku (r26165) does not detect SATA DVD/CDROM drive.
</A></li>
        <LI>Next message: <A HREF="008652.html">[Haiku-bugs] [Haiku] #2470: DriveSetup error preparing disk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8668">[ date ]</a>
              <a href="thread.html#8668">[ thread ]</a>
              <a href="subject.html#8668">[ subject ]</a>
              <a href="author.html#8668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>#2469: Haiku (r26165) does not detect SATA DVD/CDROM drive.
---------------------------+------------------------------------------------
  Reporter:  Bouncer       |       Owner:  marcusoverhagen
      Type:  bug           |      Status:  assigned       
  Priority:  normal        |   Milestone:  R1             
 Component:  Drivers/Disk  |     Version:  R1 development 
Resolution:                |   Blockedby:                 
  Platform:  All           |    Blocking:                 
---------------------------+------------------------------------------------
Changes (by marcusoverhagen):

  * status:  new =&gt; assigned


Comment:

 The AHCI sata driver already supports ATAPI. (works for me :-)

 On this machine, the drive is detected, but some
 ATAPI command seems to fail.

 ata command 0xa0 is the PACKET command, more debug output
 needs to be added to see which ATAPI command is beeing
 executed.

 {{{
 3386    KERN: [34mahci:[0m AHCIPort::PostReset port 3
 3387    KERN: [34mahci:[0m device signature 0xeb140101 (ATAPI)
 3388    KERN: [34mahci:[0m AHCIPort::ScsiInquiry port 3
 3389    KERN: [34mahci:[0m model number:  LITE-ON DVDRW LH-20A1S
 3390    KERN: [34mahci:[0m serial number:
 3391    KERN: [34mahci:[0m firmware rev.: 9L08
 3392    KERN: [34mahci:[0m sg_memcpy phyAddr 0x0325b388, addr
 0x83a5b388, size 96
 3393    KERN: [34mahci:[0m ahci_get_restrictions, cookie 0x90bc5480
 3394    KERN: [34mahci:[0m AHCIPort::ScsiGetRestrictions port 3: isATAPI
 1, noAutoSense 1, maxBlocks 256
 3395    KERN: publish device: node 0x90c1fc60, path disk/scsi/0/3/0/raw,
 module generic/block_io/device_v1

 3656    KERN: [34mahci:[0m AHCIPort::InterruptErrorHandler port 3,
 fCommandsActive 0x00000001, is 0x40000001, ci 0x00000001
 3657    KERN: [34mahci:[0m ssts 0x00000113
 3658    KERN: [34mahci:[0m sctl 0x00000300
 3659    KERN: [34mahci:[0m serr 0x00000000
 3660    KERN: [34mahci:[0m sact 0x00000000
 3661    KERN: [34mahci:[0m Task File Error
 3662    KERN: ahci: sata_request::finish ATA_ERR set for command 0xa0
 3663    KERN: ahci: sata_request::finish status 0x51, error 0x20
 }}}

-- 
Ticket URL: &lt;<A HREF="http://dev.haiku-os.org/ticket/2469#comment:2">http://dev.haiku-os.org/ticket/2469#comment:2</A>&gt;
Haiku &lt;<A HREF="http://dev.haiku-os.org">http://dev.haiku-os.org</A>&gt;
The Haiku operating system.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008656.html">[Haiku-bugs] [Haiku] #2469: Haiku (r26165) does not detect SATA DVD/CDROM drive.
</A></li>
	<LI>Next message: <A HREF="008652.html">[Haiku-bugs] [Haiku] #2470: DriveSetup error preparing disk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8668">[ date ]</a>
              <a href="thread.html#8668">[ thread ]</a>
              <a href="subject.html#8668">[ subject ]</a>
              <a href="author.html#8668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-bugs">More information about the Haiku-bugs
mailing list</a><br>
</body></html>
